{% extends 'base.html' %}
{% block content %}
    <center>
        <h2  class="row">Register</h2>
    </center>
    <div class="container">
        <div class="col-lg-offset-4 col-lg-4 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
            <form method="post" role="form" style="margin:5%;">
                {{ render_field(form.email, 0) }}
                {{ render_field(form.captcha, 1) }}
                {{ render_field(form.password, 0) }}
                {{ render_field(form.password_valid, 0) }}
                <center><button type="submit" class="btn btn-default">Submit</button></center>
            </form>
        </div>
    </div>
{% endblock %}

{% macro render_field(field, id) %}

{{ field.label }}
    {% if id == 1 %}
        <div class="input-group">
    {% else %}
        <div class="form-group">
    {% endif %}
    
    {{ field(**kwargs)|safe }}
    
    {% if id == 1 %}
        <span class="input-group-addon" type="button" id="captcha-btn">获取验证码</span>
    {% endif %}
    
    {% if field.errors %}
        <ul class="has-error">
            {% for error in field.errors %}
            <li class="control-label">{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    </div>
{% endmacro %}